!function(){var t=[];class e{constructor(t,e){this._name=t,this._cost=e,this._total=this.GetTotal(e)}GetTotal(t){return t}get Name(){return this._name}get Total(){return this._total}set Total(t){this._total=t}}class s extends e{constructor(t,e,s){super(t,e),this._quantity=s,this._total=this.GetTotal(e)}GetTotal(t){return t*this._quantity}get Name(){return this._name}get Total(){return this._total}set Total(t){this._total=t}}let n=0;const c=document.querySelector("section.input-area"),o=["Item Name","Item Cost (only #'s ex. 12.34)","Weight/Quantity (only #'s ex. 2.45)"],i=["name","cost","quant"],a=["must be 2 characters or longer","must only be a number and at least 1 digit","must only be a number"];function l(){const i=document.querySelector("button#newItem");i.setAttribute("disabled","true"),i.classList.add("btn-outline-success"),i.classList.remove("btn-success"),function(){const t=document.createElement("article");t.setAttribute("class","col-md-4 col-sm-12"),t.setAttribute("id","item"+n),c.prepend(t),function(t){const e=document.createElement("div");e.setAttribute("class","col-sm-12"),t.appendChild(e);for(let t=0;t<o.length;t++)r(e,t),u(e,t),d(e,t);(function(t){const e=document.createElement("section");e.setAttribute("class","row"),t.appendChild(e);const s=document.createElement("div");s.setAttribute("class","col-md-6 col-sm-12"),e.appendChild(s);const n=document.createElement("div");n.setAttribute("class","col-md-6 col-sm-12"),e.appendChild(n);const c=document.createElement("button");c.setAttribute("class","edit-fields mx-auto mt-3 btn btn-outline-secondary"),c.setAttribute("disabled","true"),c.textContent="Edit Item";const o=document.createElement("button");o.setAttribute("class","calculate-total mx-auto mt-3 btn btn-outline-primary"),o.setAttribute("disabled","true"),o.textContent="Calculate Total",s.appendChild(o)})(e),function(t){const e=document.createElement("section");e.setAttribute("class","row mt-3");const s=document.createElement("div");s.setAttribute("class","col-sm-5 pr-0");const n=document.createElement("div");n.setAttribute("class","col-sm-7"),t.appendChild(e),e.appendChild(s),e.appendChild(n);const c=function(){const t=document.createElement("h6"),e=document.createElement("h6");return t.setAttribute("class","text-right"),e.setAttribute("class","text-left sub-value"),t.textContent="Subtotal: $",[t,e]}(),o=function(){const t=document.createElement("h6"),e=document.createElement("h6");return t.setAttribute("class","text-right"),e.setAttribute("class","text-left tax-value"),t.textContent="Tax: $",[t,e]}(),i=function(){const t=document.createElement("h5"),e=document.createElement("h5");return t.setAttribute("class","mt-3 text-right"),e.setAttribute("class","mt-3 text-left total-value"),t.textContent="Total: $",[t,e]}();s.appendChild(c[0]),n.appendChild(c[1]),s.appendChild(o[0]),n.appendChild(o[1]),s.appendChild(i[0]),n.appendChild(i[1])}(e)}(t)}(),function(){document.querySelector("button");const t=document.querySelector("#item"+n).childNodes[0];(function(t){const e=t.childNodes[1],s=t.childNodes[2];e.addEventListener("input",function(){const t=e.value;""==t||t.length<2?(e.classList.add("error"),s.classList.remove("invisible"),e.classList.remove("success")):(e.classList.remove("error"),s.classList.add("invisible"),e.classList.add("success"))})})(t),function(t){const e=t.childNodes[4],s=t.childNodes[5];e.addEventListener("input",function(){const t=parseFloat(e.value);""==t||t.length<1||isNaN(t)?(e.classList.add("error"),s.classList.remove("invisible"),e.classList.remove("success")):(e.classList.remove("error"),s.classList.add("invisible"),e.classList.add("success"))})}(t),function(t){const e=t.childNodes[7],s=t.childNodes[8];e.addEventListener("input",function(){const t=parseFloat(e.value);""==e.value?(e.classList.remove("error"),s.classList.add("invisible"),e.classList.add("success")):""!=t&&(isNaN(t)?(e.classList.add("error"),s.classList.remove("invisible"),e.classList.remove("success")):(e.classList.remove("error"),s.classList.add("invisible"),e.classList.add("success")))})}(t)}(),function(){const c=document.querySelector("button.calculate-total"),o=document.querySelector("button#newItem"),i=document.querySelector("button#saveItems"),a=document.querySelector("#item"+n+" div");c.addEventListener("click",function(n){n.preventDefault();let l=a.childNodes[1].value,r=a.childNodes[4].value,u=a.childNodes[7].value;if(""==u){const s=new e(l,r);t.push(s),c.parentNode.removeChild(c),o.removeAttribute("disabled"),o.classList.remove("btn-outline-success"),o.classList.add("btn-success"),i.removeAttribute("disabled"),i.classList.remove("btn-outline-info"),i.classList.add("btn-info"),m()}else{const e=new s(l,r,u);t.push(e),c.parentNode.removeChild(c),o.removeAttribute("disabled"),o.classList.remove("btn-outline-success"),o.classList.add("btn-success"),i.removeAttribute("disabled"),i.classList.remove("btn-outline-info"),i.classList.add("btn-info"),m()}})}(),function(){const t=document.querySelector("#item"+n+" div"),e=t.childNodes[1],s=t.childNodes[4],c=t.childNodes[7],o=document.querySelector("button.calculate-total"),i={attributes:!0},a=new MutationObserver(function(t,n){for(let n of t)"attributes"==n.type&&(e.classList.contains("success")&&s.classList.contains("success")&&c.classList.contains("success")?(o.removeAttribute("disabled"),o.classList.remove("btn-outline-primary"),o.classList.add("btn-primary")):(o.setAttribute("disabled","true"),o.classList.add("btn-outline-primary"),o.classList.remove("btn-primary")))});a.observe(e,i),a.observe(s,i),a.observe(c,i)}()}function r(t,e){const s=document.createElement("label");if(s.setAttribute("class","text-center d-block mt-3"),s.setAttribute("for","input-"+i[e]),s.textContent=o[e],t.appendChild(s),2==e){const t=document.createElement("span");t.setAttribute("class","span-red d-block"),t.textContent=" This may be left empty",s.appendChild(t)}}function u(t,e){const s=document.createElement("input");s.setAttribute("class","w-100 input-"+i[e]),s.classList.contains("input-quant")&&s.setAttribute("class","w-100 success input-"+i[e]),s.setAttribute("type","text"),t.appendChild(s)}function d(t,e){const s=document.createElement("p");s.setAttribute("class","error-text invisible"),s.textContent=a[e],t.appendChild(s)}function m(){const e=document.querySelector("#item"+n+" .sub-value"),s=document.querySelector("#item"+n+" .tax-value"),c=document.querySelector("#item"+n+" .total-value"),o=Math.round(100*t[n].Total)/100,i=Math.round(.0825*o*100)/100,a=Math.round(100*(o+i))/100;t[n].Total=a,e.textContent=o,s.textContent=i,c.textContent=t[n].Total,function(){let e=0,s=document.querySelector("div.cart-total h2");t.forEach(t=>{e+=t.Total}),s.textContent=Math.round(100*e)/100}()}l(),document.querySelector("button#newItem").addEventListener("click",function(){n++,l()}),document.querySelector("button#saveItems").addEventListener("click",function(){t.forEach(t=>{localStorage.setItem(t.Name,JSON.stringify(t))}),alert("Grocery Cart Saved to Local Storage!")})}();